?paste
library(tidyverse)
library(jsonlite)
base = 6
expand = 4
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
d_subj <- read_csv("../../../results/pilots/vehicle/vehicle-subject_information.csv") %>%
select(workerid, attention)
d_subj <- read_csv("../../results/pilots/vehicle/vehicle-subject_information.csv") %>%
select(workerid, attention)
d_subj <- read_csv("../../../results/pilots/vehicle/vehiclepilot-subject_information.csv") %>%
select(workerid, attention)
View(d_subj)
d_subj <- read_csv("../../../results/pilots/vehicle/vehiclepilot-subject_information.csv") %>%
select(workerid, attention, language)
d <- left_join(d_data, d_subj, by = c("workerid")) %>%
# NATIVE LANGUAGE EXCLUSION (MANUAL)
filter(!(workerid %in% c(61)))
d_data <- read_csv("../../../results/pilots/vehicle/vehiclepilot-trials.csv") %>%
filter(!is.na(version))
d_data <- read_csv("../../../results/pilots/vehicle/vehiclepilot-trials.csv")
View(d_data)
d_data <- read_csv("../../../results/pilots/vehicle/vehiclepilot-trials.csv") %>%
filter(!is.na(item))
d <- left_join(d_data, d_subj, by = c("workerid")) %>%
# NATIVE LANGUAGE EXCLUSION (MANUAL)
filter(!(workerid %in% c(61))) %>%
filter(attention == TRUE)
View(d)
transformed <- d %>%
group_by(version,item) %>%
mutate(total = n()) %>%
ungroup() %>%
group_by(version,item,individual_judgment) %>%
mutate(count = n()) %>%
mutate(true_proportion = binom.confint(x = count, n  = total, methods = "exact")$mean,
ci_low = binom.confint(x = count, n  = total, methods = "exact")$lower,
ci_high = binom.confint(x = count, n  = total, methods = "exact")$upper) %>%
# select(version,item,individual_judgment,true_proportion,population_judgment,total,count, ci_high, ci_low) %>%
mutate(difference = as.numeric(population_judgment) - true_proportion)
library(binom)
transformed <- d %>%
group_by(item) %>%
mutate(total = n()) %>%
ungroup() %>%
group_by(item,individual_judgment) %>%
mutate(count = n()) %>%
mutate(true_proportion = binom.confint(x = count, n  = total, methods = "exact")$mean,
ci_low = binom.confint(x = count, n  = total, methods = "exact")$lower,
ci_high = binom.confint(x = count, n  = total, methods = "exact")$upper) %>%
mutate(difference = as.numeric(population_judgment) - true_proportion)
View(transformed)
transformed <- d %>%
group_by(item) %>%
mutate(total = n()) %>%
ungroup() %>%
group_by(item,individual_judgment) %>%
mutate(count = n()) %>%
summarize(true_proportion = count/total, estimate = mean(population_judgment))
transformed <- d %>%
group_by(item) %>%
mutate(total = n()) %>%
ungroup() %>%
group_by(item,individual_judgment) %>%
mutate(count = n()) %>%
mutate(true_proportion = count/total, estimate = mean(population_judgment))
transformed <- d %>%
group_by(item) %>%
mutate(total = n()) %>%
ungroup() %>%
group_by(item,individual_judgment) %>%
mutate(count = n()) %>%
summarize(true_proportion = count/total)
View(transformed)
transformed <- d %>%
group_by(item) %>%
mutate(total = n()) %>%
ungroup() %>%
group_by(item,individual_judgment) %>%
summarize(true_proportion = n()/total)
transformed <- d %>%
group_by(item) %>%
mutate(total = n()) %>%
group_by(item,individual_judgment) %>%
summarize(true_proportion = n()/total)
transformed <- d %>%
group_by(item) %>%
mutate(total = n()) %>%
group_by(item,individual_judgment) %>%
mutate(true_proportion = binom.confint(x = count, n  = total, methods = "exact")$mean,
ci_low = binom.confint(x = count, n  = total, methods = "exact")$lower,
ci_high = binom.confint(x = count, n  = total, methods = "exact")$upper) %>%
mutate(difference = as.numeric(population_judgment) - true_proportion)
transformed <- d %>%
group_by(item) %>%
mutate(total = n()) %>%
ungroup() %>%
group_by(item,individual_judgment) %>%
mutate(count = n()) %>%
mutate(true_proportion = binom.confint(x = count, n  = total, methods = "exact")$mean,
ci_low = binom.confint(x = count, n  = total, methods = "exact")$lower,
ci_high = binom.confint(x = count, n  = total, methods = "exact")$upper) %>%
mutate(difference = as.numeric(population_judgment) - true_proportion)
View(transformed)
transformed <- d %>%
group_by(item) %>%
mutate(total = n()) %>%
ungroup() %>%
group_by(item,individual_judgment) %>%
mutate(count = n()) %>%
mutate(true_proportion = count/total)
View(transformed)
transformed <- d %>%
group_by(item) %>%
mutate(total = n()) %>%
ungroup() %>%
group_by(item,individual_judgment) %>%
mutate(count = n()) %>%
summarize(true_proportion = count/total)
transformed <- d %>%
group_by(item) %>%
mutate(total = n()) %>%
ungroup() %>%
group_by(item,individual_judgment) %>%
mutate(count = n()) %>%
group_by(item,individual_judgment) %>%
summarize(true_proportion = count/total)
d_data <- read_csv("../../../results/pilots/vehicle/vehiclepilot-trials.csv") %>%
filter(!is.na(item)) %>%
mutate(item = factor(item))
transformed <- d %>%
group_by(item) %>%
mutate(total = n()) %>%
ungroup() %>%
group_by(item,individual_judgment) %>%
mutate(count = n()) %>%
summarize(true_proportion = count/total)
transformed <- d %>%
group_by(item, individual_judgment) %>%
summarise(n = n(), estimate = mean(population_judgment)) %>%
mutate(freq = n / sum(n))
View(transformed)
d_data <- read_csv("../../../results/pilots/vehicle/vehiclepilot-trials.csv") %>%
filter(!is.na(item)) %>%
mutate(population_judgment = as.numeric(population_judgment))
d_subj <- read_csv("../../../results/pilots/vehicle/vehiclepilot-subject_information.csv") %>%
select(workerid, attention, language)
d_data <- read_csv("../../../results/pilots/vehicle/vehiclepilot-trials.csv") %>%
filter(!is.na(item)) %>%
mutate(population_judgment = as.numeric(population_judgment))
d <- left_join(d_data, d_subj, by = c("workerid")) %>%
# NATIVE LANGUAGE EXCLUSION (MANUAL)
filter(!(workerid %in% c(61))) %>%
filter(attention == TRUE)
transformed <- d %>%
group_by(item, individual_judgment) %>%
summarise(n = n(), estimate = mean(population_judgment)) %>%
mutate(freq = n / sum(n))
View(transformed)
transformed <- d %>%
group_by(item, individual_judgment) %>%
summarise(n = n(), estimate = mean(population_judgment)) %>%
mutate(actual = n / sum(n))
plot(transformed$estimate, transformed$actual)
cor(transformed$estimate, transformed$actual)
transformed <- d %>%
group_by(item, individual_judgment) %>%
mutate(n = n()) %>%
mutate(actual = n / sum(n))
plot(transformed$population_judgment, transformed$actual)
d <- left_join(d_data, d_subj, by = c("workerid")) %>%
# NATIVE LANGUAGE EXCLUSION (MANUAL)
filter(!(workerid %in% c(61, 143))) %>%
filter(attention == TRUE)
transformed <- d %>%
group_by(item, individual_judgment) %>%
mutate(n = n()) %>%
mutate(actual = n / sum(n))
plot(transformed$population_judgment, transformed$actual)
transformed <- d %>%
filter(individual_judgment == "no")
transformed <- d %>%
group_by(item) %>%
summarize(n = n()) %>%
mutate(actual = n / sum(n)) %>%
filter(individual_judgment == "no")
transformed <- d %>%
group_by(item,individual_judgment) %>%
summarize(n = n()) %>%
mutate(actual = n / sum(n)) %>%
filter(individual_judgment == "no")
View(transformed)
d %>%
group_by(item) %>%
summarize(n = n())
d_subj <- read_csv("../../../results/pilots/vehicle/vehiclepilot-subject_information.csv") %>%
select(workerid, attention, language)
d_data <- read_csv("../../../results/pilots/vehicle/vehiclepilot-trials.csv") %>%
filter(!is.na(item)) %>%
mutate(population_judgment = as.numeric(population_judgment))
d <- left_join(d_data, d_subj, by = c("workerid")) %>%
# NATIVE LANGUAGE EXCLUSION (MANUAL)
filter(!(workerid %in% c(61, 143))) %>%
filter(attention == TRUE)
d <- merge(d_data, d_subj, by = c("workerid")) %>%
# NATIVE LANGUAGE EXCLUSION (MANUAL)
filter(!(workerid %in% c(61, 143))) %>%
filter(attention == TRUE)
View(d)
View(d_data)
d <- merge(d_data, d_subj, by = c("workerid"))
d <- bind_cols(d_data, d_subj, by = c("workerid"))
?bind_cols
d <- d_subj %>%
bind_cols(d_data, by = c("workerid"))
View(d)
d <- d_subj %>%
bind_cols(d_data)
d <- d_subj %>%
bind_cols(d_data)
d <- d_subj %>%
bind_cols(d_data) %>%
# NATIVE LANGUAGE EXCLUSION (MANUAL)
filter(!(workerid %in% c(61, 143))) %>%
filter(attention == TRUE)
d <- d_subj %>%
bind_cols(d_data) %>%
mutate(workerid = workerid...1) %>%
# NATIVE LANGUAGE EXCLUSION (MANUAL)
filter(!(workerid %in% c(61, 143))) %>%
filter(attention == TRUE)
View(d)
?distinct
d <- d_subj %>%
bind_cols(d_data) %>%
mutate(workerid = workerid...1) %>%
# NATIVE LANGUAGE EXCLUSION (MANUAL)
filter(!(workerid %in% c(61, 143))) %>%
filter(attention == TRUE) %>%
distinct(workerid, .keep_all = TRUE)
View(d)
d %>%
group_by(item) %>%
summarize(n = n())
transformed <- d %>%
group_by(item,individual_judgment) %>%
summarize(n = n()) %>%
mutate(actual = n / sum(n)) %>%
filter(individual_judgment == "no")
View(transformed)
transformed <- d %>%
group_by(item,individual_judgment) %>%
summarize(n = n(), estimate = mean(population_judgment)) %>%
mutate(actual = n / sum(n)) %>%
filter(individual_judgment == "no")
plot(transformed$estimate, transformed$actual)
transformed <- d %>%
group_by(item,individual_judgment) %>%
summarize(n = n(), estimate = mean(population_judgment)) %>%
mutate(actual = n / sum(n))
plot(transformed$estimate, transformed$actual)
cor(transformed$estimate, transformed$actual)
?cor
plot(transformed$estimate, transformed$actual)
cor(transformed$estimate, transformed$actual) ^ 2
cor(transformed$estimate, transformed$actual)
base = 6
expand = 4
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
d_subj <- read_csv("../../../results/pilots/vehicle/vehiclepilot-subject_information.csv") %>%
select(workerid, attention, language)
d_data <- read_csv("../../../results/pilots/vehicle/vehiclepilot-trials.csv") %>%
filter(!is.na(item)) %>%
mutate(population_judgment = as.numeric(population_judgment))
d <- d_subj %>%
bind_cols(d_data) %>%
mutate(workerid = workerid...1) %>%
# NATIVE LANGUAGE EXCLUSION (MANUAL)
filter(!(workerid %in% c(61, 143))) %>%
filter(attention == TRUE) %>%
distinct(workerid, .keep_all = TRUE)
d %>%
group_by(item) %>%
summarize(n = n())
transformed <- d %>%
group_by(item,individual_judgment) %>%
summarize(n = n(), estimate = mean(population_judgment)) %>%
mutate(actual = n / sum(n))
cor(transformed$estimate, transformed$actual)
library(tidyverse)
library(jsonlite)
library(binom)
base = 6
expand = 4
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
d_subj <- read_csv("../../../results/pilots/vehicle/vehiclepilot-subject_information.csv") %>%
select(workerid, attention, language)
d_data <- read_csv("../../../results/pilots/vehicle/vehiclepilot-trials.csv") %>%
filter(!is.na(item)) %>%
mutate(population_judgment = as.numeric(population_judgment))
d <- d_subj %>%
bind_cols(d_data) %>%
mutate(workerid = workerid...1) %>%
# NATIVE LANGUAGE EXCLUSION (MANUAL)
filter(!(workerid %in% c(61, 143))) %>%
filter(attention == TRUE) %>%
distinct(workerid, .keep_all = TRUE)
d %>%
group_by(item) %>%
summarize(n = n())
transformed <- d %>%
group_by(item,individual_judgment) %>%
summarize(n = n(), estimate = mean(population_judgment)) %>%
mutate(actual = n / sum(n))
View(transformed)
cor(transformed$estimate, transformed$actual)
plot(transformed$estimate, transformed$actual)
d <- d_subj %>%
bind_cols(d_data) %>%
mutate(workerid = workerid...1) %>%
# NATIVE LANGUAGE EXCLUSION (MANUAL)
filter(!(workerid %in% c(61, 143, 146))) %>%
filter(attention == TRUE) %>%
distinct(workerid, .keep_all = TRUE)
d <- d_subj %>%
bind_cols(d_data) %>%
mutate(workerid = workerid...1) %>%
# NATIVE LANGUAGE EXCLUSION (MANUAL)
# filter(!(workerid %in% c(61, 146))) %>%
filter(attention == TRUE) %>%
distinct(workerid, .keep_all = TRUE)
d <- d_subj %>%
bind_cols(d_data) %>%
mutate(workerid = workerid...1) %>%
# NATIVE LANGUAGE EXCLUSION (MANUAL)
filter(!(workerid %in% c(146))) %>%
filter(attention == TRUE)
d <- d_subj %>%
bind_cols(d_data) %>%
mutate(workerid = workerid...1) %>%
# NATIVE LANGUAGE EXCLUSION (MANUAL)
filter(!(workerid %in% c(146)))
d <- d_subj %>%
bind_cols(d_data) %>%
mutate(workerid = workerid...1) %>%
# NATIVE LANGUAGE AND RESPONSE > 100 EXCLUSION (MANUAL)
filter(!(workerid %in% c(61, 146))) %>%
filter(attention == TRUE) %>%
distinct(workerid, .keep_all = TRUE)
d %>%
group_by(item) %>%
summarize(n = n())
transformed <- d %>%
group_by(item,individual_judgment) %>%
summarize(n = n(), estimate = mean(population_judgment)) %>%
mutate(actual = n / sum(n))
plot(transformed$estimate, transformed$actual)
cor(transformed$estimate, transformed$actual)
transformed <- d %>%
group_by(item,individual_judgment) %>%
summarize(n = n(), estimate = mean(population_judgment)) %>%
mutate(actual = n / sum(n)) %>%
ggplot(aes(x = estimate, y = actual, color = individual_judgment)) +
geom_point()
transformed <- d %>%
group_by(item,individual_judgment) %>%
summarize(n = n(), estimate = mean(population_judgment)) %>%
mutate(actual = n / sum(n)) %>%
ggplot(aes(x = estimate, y = actual, color = individual_judgment)) +
geom_point()
ggplot(transformed, aes(x = estimate, y = actual, color = individual_judgment)) +
geom_point()
transformed %>%
ggplot(transformed, aes(x = estimate, y = actual, color = individual_judgment)) +
geom_point()
transformed %>%
ggplot(aes(x = estimate, y = actual, color = individual_judgment)) +
geom_point()
transformed %>%
ggplot(aes(x = estimate, y = actual)) +
geom_point()
as.data.frame(transformed) %>%
ggplot(aes(x = estimate, y = actual)) +
geom_point()
?ggplot
ggplot(data = transformed, aes(x = estimate, y = actual)) +
geom_point()
